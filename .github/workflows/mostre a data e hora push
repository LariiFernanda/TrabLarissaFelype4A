name: Show push datetime

on:
  push:

jobs:
  show-push-time:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # garante acesso ao commit completo

      - name: Datas do push e do commit
        run: |
          echo "SHA do commit: $GITHUB_SHA"
          echo "Author date (ISO): $(git show -s --format=%aI $GITHUB_SHA)"
          echo "Committer date (ISO): $(git show -s --format=%cI $GITHUB_SHA)"
          echo "Push head timestamp (ISO do evento): ${{ github.event.head_commit.timestamp }}"

      - name: Converter para horário de Brasília (BRT)
        run: |
          TS="${{ github.event.head_commit.timestamp }}"
          echo "Push em BRT: $(TZ=America/Sao_Paulo date -d "$TS" +"%Y-%m-%d %H:%M:%S %Z")"
